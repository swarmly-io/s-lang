indexes:
  - blocks
  - items
  - foods
  - entities
  - entity_loot
  - smelting
  - recipes
  - hostile_entities
  - armour
  - weapons
# each tag must be generated by an aggregate
tags:
  - goal_failed
  - health_critical
  - food_high
  - no_shelter
  - zombie_close
  - health_low
  - no_weapon
  - got_shelter
  - food_inventory_high
  - health_high
  - no_tools
  - got_tools
  - zombie_far
  - no_task
  - no_jobs
  - food_low
  - got_paid
  - goal_succeeded
  - completed_job
  - got_credit
  - food_inventory_low
  - got_armour
  - stuck
  - on_task
  - no_armour
  - got_weapon
actions:
  - mine
  - collect
  - fight
  - hunt
  - eat
  - craft
  - smelt
  - trade
goals:
  - name: stay alive
    type: survival
    failure:
      - tag: health_low
      - tag: health_critical
      - tag: zombie_close
      - tag: food_low
      - tag: food_inventory_low
    success:
      - tag: health_high
      - tag: food_inventory_high
      - tag: food_high
      - tag: zombie_far
  - name: have shelter
    type: survival
    success:
      - tag: got_shelter
    failure:
      - tag: no_shelter
  - name: have defence
    type: survival
    success:
      - tag: got_weapon
      - tag: got_armour
    failure:
      - tag: no_weapon
      - tag: no_armour
  - name: have tools'
    type: survival
    success:
      - tag: got_tools
    failure:
      - tag: no_tools
  - name: make money
    type: goal
    success:
      #- when: account.balance
      #  gt: money_demand_level
      - tag: completed_job
      - tag: got_credit
      - tag: got_paid
    failure:
      #- when: account.balance
      #  lt: money_demand_level
      - tag: no_jobs
      - tag: stuck
  - name: fulfilling goals
    type: goal
    success:
      - tag: goal_succeeded
      - tag: on_task
    failure:
      - tag: goal_failed
      - tag: stuck
      - tag: no_task
# make a path from an action to the end nodes
tag_links:
  # tag, action, index, optional node
  - health_high, eating, food
  - health_low, eating, food
  - health_critical, fighting, hostile_entities
  - zombie_close, fighting, hostile_entities
  - zombie_close, escape, hostile_entities
  - got_credit, trade, trade, credit
  - got_paid, trade, trade, credit
  - food_low, collect, foods
  - food_low, hunt, entities
  - food_low, trade, foods
  - no_weapon, collect, weapons
  - no_weapon, craft, weapons
