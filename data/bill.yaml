indexes:
  - blocks
  - items
  - foods
  - entities
  - entity_loot
  - smelting
  - recipes
  - hostile_entities
  - armour
  - weapons
  - trade
# each tag must be generated by an aggregate
groups:
  - name: health
    type: ordered_rank
    rank: 2
  - name: goals
    type: binary
    rank: 7
  - name: hostility
    type: binary
    rank: 1
  - name: food
    type: binary
    rank: 3
  - name: shelter
    type: binary
    rank: 4
  - name: defence
    type: binary
    rank: 5
  - name: tools
    type: binary
    rank: 8
  - name: activity
    type: binary
    rank: 11
  - name: inventory
    type: binary
    rank: 6
  - name: tasks
    type: function
    rank: 10
  - name: money
    type: function
    rank: 9
tags:
  - name: no_health
    group: health
    type: survival
  - name: health_critical
    group: health
    type: survival
  - name: health_low
    group: health
    type: survival
  - name: health_high
    group: health
    type: survival
  - name: goal_succeeded
    group: goals
    type: goal
  - name: goal_failed
    group: goals
    type: goal
  - name: zombie_far
    group: hostility
    type: threat
  - name: zombie_close
    group: hostility
    type: threat
  - name: food_high
    group: food
    type: survival
  - name: food_low
    group: food
    type: survival
  - name: got_shelter
    group: shelter
    type: survival
  - name: no_shelter
    group: shelter
    type: survival
  - name: no_weapon
    group: defence
    type: survival
  - name: got_weapon
    group: defence
    type: survival
  - name: got_armour
    group: defence
    type: survival
  - name: no_armour
    group: defence
    type: survival
  - name: food_inventory_high
    group: inventory
    type: goal
  - name: food_inventory_low
    group: inventory
    type: goal
  - name: no_tools
    group: tools
    type: survival
  - name: got_tools
    group: tools
    type: survival
  - name: no_task
    group: activity
    type: goal
  - name: on_task
    group: activity
    type: goal
  - name: no_jobs
    group: activity
    type: goal
  - name: completed_job
    group: tasks
    type: value
  - name: performing_job
    group: tasks
    type: value
  - name: stuck
    group: tasks
    type: goal
  - name: got_paid
    group: money
    type: goal
  - name: got_credit
    group: money
    type: goal
  - name: got_debit
    group: money
    type: goal
actions:
  - mine
  - collect
  - fight
  - hunt
  - eat
  - craft
  - smelt
  - trade
goals:
  - name: stay alive
    type: survival
    failure:
      - tag: health_low
      - tag: health_critical
      - tag: zombie_close
      - tag: food_low
      - tag: food_inventory_low
      - tag: no_health
    success:
      - tag: health_high
      - tag: food_inventory_high
      - tag: food_high
      - tag: zombie_far
  - name: have shelter
    type: survival
    success:
      - tag: got_shelter
    failure:
      - tag: no_shelter
  - name: have defence
    type: survival
    success:
      - tag: got_weapon
      - tag: got_armour
    failure:
      - tag: no_weapon
      - tag: no_armour
  - name: have tools'
    type: survival
    success:
      - tag: got_tools
    failure:
      - tag: no_tools
  - name: make money
    type: goal
    success:
      #- when: account.balance
      #  gt: money_demand_level
      - tag: completed_job
      - tag: got_credit
      - tag: got_paid
    failure:
      #- when: account.balance
      #  lt: money_demand_level
      - tag: no_jobs
      - tag: stuck
  - name: fulfilling goals
    type: goal
    success:
      - tag: goal_succeeded
      - tag: on_task
    failure:
      - tag: goal_failed
      - tag: stuck
      - tag: no_task
# make a path from an action to the end nodes
tag_links:
    - "health_low eat items:foods"
    - "health_critical eat items:foods"
    - "zombie_close fight hostile_entities"
    - "got_credit trade trade credit"
    - "no_credit trade trade credit"
    - "food_low collect foods"
    - "food_low hunt entities"
    - "food_low trade foods"
    - "food_high collect foods"
    - "no_weapon collect weapons"
    - "no_weapon craft weapons"
    - "no_tools craft items wooden_pickaxe"
    - "no_tools craft items iron_pickaxe"
    - "no_tools craft items diamond_pickaxe"
    - "no_tools craft items wooden_axe"
    - "food_inventory_high collect foods"
    - "on_task mine blocks"

